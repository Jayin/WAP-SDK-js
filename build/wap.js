var getCookie=function(e){for(var t=function(e){var t=document.cookie.indexOf(";",e);return-1==t&&(t=document.cookie.length),unescape(document.cookie.substring(e,t))},r=e+"=",n=r.length,i=document.cookie.length,o=0;i>o;){var s=o+n;if(document.cookie.substring(o,s)==r)return t(s);if(o=document.cookie.indexOf(" ",o)+1,0==o)break}return null},setCookie=function(e,t,r,n,i,o){document.cookie=e+"="+escape(t)+(null==r?"":"; expires="+r.toGMTString())+(null==n?"":"; path="+n)+(null==i?"":"; domain="+i)+(1==o?"; secure":"")};!function(){"use strict";function e(e){if("string"!=typeof e&&(e=e.toString()),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function t(e){return"string"!=typeof e&&(e=e.toString()),e}function r(e){this.map={};var t=this;e instanceof r?e.forEach(function(e,r){r.forEach(function(r){t.append(e,r)})}):e&&Object.getOwnPropertyNames(e).forEach(function(r){t.append(r,e[r])})}function n(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function i(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function o(e){var t=new FileReader;return t.readAsArrayBuffer(e),i(t)}function s(e){var t=new FileReader;return t.readAsText(e),i(t)}function a(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(f.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(f.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else{if(e)throw new Error("unsupported BodyInit type");this._bodyText=""}},f.blob?(this.blob=function(){var e=n(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(o)},this.text=function(){var e=n(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=n(this);return e?e:Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function u(e){var t=e.toUpperCase();return v.indexOf(t)>-1?t:e}function c(e,t){if(t=t||{},this.url=e,this.credentials=t.credentials||"omit",this.headers=new r(t.headers),this.method=u(t.method||"GET"),this.mode=t.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&t.body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(t.body)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function d(e){var t=new r,n=e.getAllResponseHeaders().trim().split("\n");return n.forEach(function(e){var r=e.trim().split(":"),n=r.shift().trim(),i=r.join(":").trim();t.append(n,i)}),t}function l(e,t){t||(t={}),this._initBody(e),this.type="default",this.url=null,this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof r?t.headers:new r(t.headers),this.url=t.url||""}if(!self.fetch){r.prototype.append=function(r,n){r=e(r),n=t(n);var i=this.map[r];i||(i=[],this.map[r]=i),i.push(n)},r.prototype["delete"]=function(t){delete this.map[e(t)]},r.prototype.get=function(t){var r=this.map[e(t)];return r?r[0]:null},r.prototype.getAll=function(t){return this.map[e(t)]||[]},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(r,n){this.map[e(r)]=[t(n)]},r.prototype.forEach=function(e){var t=this;Object.getOwnPropertyNames(this.map).forEach(function(r){e(r,t.map[r])})};var f={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self},v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];a.call(c.prototype),a.call(l.prototype),self.Headers=r,self.Request=c,self.Response=l,self.fetch=function(e,t){var r;return r=c.prototype.isPrototypeOf(e)&&!t?e:new c(e,t),new Promise(function(e,t){function n(){return"responseURL"in i?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):void 0}var i=new XMLHttpRequest;i.onload=function(){var r=1223===i.status?204:i.status;if(100>r||r>599)return void t(new TypeError("Network request failed"));var o={status:r,statusText:i.statusText,headers:d(i),url:n()},s="response"in i?i.response:i.responseText;e(new l(s,o))},i.onerror=function(){t(new TypeError("Network request failed"))},i.open(r.method,r.url,!0),"include"===r.credentials&&(i.withCredentials=!0),"responseType"in i&&f.blob&&(i.responseType="blob"),r.headers.forEach(function(e,t){t.forEach(function(t){i.setRequestHeader(e,t)})}),i.send("undefined"==typeof r._bodyInit?null:r._bodyInit)})},self.fetch.polyfill=!0}}(),function(){function e(e,t,r){var n=t&&r||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>i&&(t[n+i++]=f[e])});16>i;)t[n+i++]=0;return t}function t(e,t){var r=t||0,n=l;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]}function r(e,r,n){var i=r&&n||0,o=r||[];e=e||{};var s=null!=e.clockseq?e.clockseq:_,a=null!=e.msecs?e.msecs:(new Date).getTime(),u=null!=e.nsecs?e.nsecs:g+1,c=a-y+(u-g)/1e4;if(0>c&&null==e.clockseq&&(s=s+1&16383),(0>c||a>y)&&null==e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");y=a,g=u,_=s,a+=122192928e5;var h=(1e4*(268435455&a)+u)%4294967296;o[i++]=h>>>24&255,o[i++]=h>>>16&255,o[i++]=h>>>8&255,o[i++]=255&h;var d=a/4294967296*1e4&268435455;o[i++]=d>>>8&255,o[i++]=255&d,o[i++]=d>>>24&15|16,o[i++]=d>>>16&255,o[i++]=s>>>8|128,o[i++]=255&s;for(var l=e.node||b,f=0;6>f;f++)o[i+f]=l[f];return r?r:t(o)}function n(e,r,n){var o=r&&n||0;"string"==typeof e&&(r="binary"==e?new d(16):null,e=null),e=e||{};var s=e.random||(e.rng||i)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,r)for(var a=0;16>a;a++)r[o+a]=s[a];return r||t(s)}var i,o=this,s=o.crypto||o.msCrypto;if("function"==typeof o.require)try{var a=o.require("crypto").randomBytes;i=a&&function(){return a(16)}}catch(u){}if(!i&&s&&s.getRandomValues){var c=new Uint8Array(16);i=function(){return s.getRandomValues(c),c}}if(!i){var h=new Array(16);i=function(){for(var e,t=0;16>t;t++)0===(3&t)&&(e=4294967296*Math.random()),h[t]=e>>>((3&t)<<3)&255;return h}}for(var d="function"==typeof o.Buffer?o.Buffer:Array,l=[],f={},v=0;256>v;v++)l[v]=(v+256).toString(16).substr(1),f[l[v]]=v;var p=i(),b=[1|p[0],p[1],p[2],p[3],p[4],p[5]],_=16383&(p[6]<<8|p[7]),y=0,g=0,m=n;if(m.v1=r,m.v4=n,m.parse=e,m.unparse=t,m.BufferClass=d,"undefined"!=typeof module&&module.exports)module.exports=m;else if("function"==typeof define&&define.amd)define(function(){return m});else{var O=o.uuid;m.noConflict=function(){return o.uuid=O,m},o.uuid=m}}.call(this),function(e){"use strict";function t(){function e(e){t=e}if("function"!=typeof Object.observe||"function"!=typeof Array.observe)return!1;var t=[],r={},n=[];return Object.observe(r,e),Array.observe(n,e),r.id=1,r.id=2,delete r.id,n.push(1,2),n.length=0,Object.deliverChangeRecords(e),5!==t.length?!1:"add"!=t[0].type||"update"!=t[1].type||"delete"!=t[2].type||"splice"!=t[3].type||"splice"!=t[4].type?!1:(Object.unobserve(r,e),Array.unobserve(n,e),!0)}function r(){if("undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime)return!1;if("undefined"!=typeof navigator&&navigator.getDeviceStorage)return!1;try{var e=new Function("","return true;");return e()}catch(t){return!1}}function n(e){return+e===e>>>0&&""!==e}function i(e){return+e}function o(e){return e===Object(e)}function s(e,t){return e===t?0!==e||1/e===1/t:Q(e)&&Q(t)?!0:e!==e&&t!==t}function a(e){if(void 0===e)return"eof";var t=e.charCodeAt(0);switch(t){case 91:case 93:case 46:case 34:case 39:case 48:return e;case 95:case 36:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return t>=97&&122>=t||t>=65&&90>=t?"ident":t>=49&&57>=t?"number":"else"}function u(){}function c(e){function t(){if(!(l>=e.length)){var t=e[l+1];return"inSingleQuote"==f&&"'"==t||"inDoubleQuote"==f&&'"'==t?(l++,n=t,v.append(),!0):void 0}}for(var r,n,i,o,s,c,h,d=[],l=-1,f="beforePath",v={push:function(){void 0!==i&&(d.push(i),i=void 0)},append:function(){void 0===i?i=n:i+=n}};f;)if(l++,r=e[l],"\\"!=r||!t(f)){if(o=a(r),h=z[f],s=h[o]||h["else"]||"error","error"==s)return;if(f=s[0],c=v[s[1]]||u,n=void 0===s[2]?r:s[2],c(),"afterPath"===f)return d}}function h(e){return $.test(e)}function d(e,t){if(t!==J)throw Error("Use Path.get to retrieve path objects");for(var r=0;r<e.length;r++)this.push(String(e[r]));L&&this.length&&(this.getValueFrom=this.compiledGetValueFromFn())}function l(e){if(e instanceof d)return e;if((null==e||0==e.length)&&(e=""),"string"!=typeof e){if(n(e.length))return new d(e,J);e=String(e)}var t=X[e];if(t)return t;var r=c(e);if(!r)return K;var t=new d(r,J);return X[e]=t,t}function f(e){return n(e)?"["+e+"]":'["'+e.replace(/"/g,'\\"')+'"]'}function v(t){for(var r=0;Y>r&&t.check_();)r++;return N&&(e.dirtyCheckCycleCount=r),r>0}function p(e){for(var t in e)return!1;return!0}function b(e){return p(e.added)&&p(e.removed)&&p(e.changed)}function _(e,t){var r={},n={},i={};for(var o in t){var s=e[o];(void 0===s||s!==t[o])&&(o in e?s!==t[o]&&(i[o]=s):n[o]=void 0)}for(var o in e)o in t||(r[o]=e[o]);return Array.isArray(e)&&e.length!==t.length&&(i.length=e.length),{added:r,removed:n,changed:i}}function y(){if(!ee.length)return!1;for(var e=0;e<ee.length;e++)ee[e]();return ee.length=0,!0}function g(){function e(e){t&&t.state_===oe&&!n&&t.check_(e)}var t,r,n=!1,i=!0;return{open:function(r){if(t)throw Error("ObservedObject in use");i||Object.deliverChangeRecords(e),t=r,i=!1},observe:function(t,n){r=t,n?Array.observe(r,e):Object.observe(r,e)},deliver:function(t){n=t,Object.deliverChangeRecords(e),n=!1},close:function(){t=void 0,Object.unobserve(r,e),re.push(this)}}}function m(e,t,r){var n=re.pop()||g();return n.open(e),n.observe(t,r),n}function O(){function e(t,o){t&&(t===n&&(i[o]=!0),a.indexOf(t)<0&&(a.push(t),Object.observe(t,r)),e(Object.getPrototypeOf(t),o))}function t(e){for(var t=0;t<e.length;t++){var r=e[t];if(r.object!==n||i[r.name]||"setPrototype"===r.type)return!1}return!0}function r(r){if(!t(r)){for(var n,i=0;i<s.length;i++)n=s[i],n.state_==oe&&n.iterateObjects_(e);for(var i=0;i<s.length;i++)n=s[i],n.state_==oe&&n.check_()}}var n,i,o=0,s=[],a=[],u={objects:a,get rootObject(){return n},set rootObject(e){n=e,i={}},open:function(t,r){s.push(t),o++,t.iterateObjects_(e)},close:function(e){if(o--,!(o>0)){for(var t=0;t<a.length;t++)Object.unobserve(a[t],r),j.unobservedCount++;s.length=0,a.length=0,n=void 0,i=void 0,ne.push(this),W===this&&(W=null)}}};return u}function w(e,t){return W&&W.rootObject===t||(W=ne.pop()||O(),W.rootObject=t),W.open(e,t),W}function j(){this.state_=ie,this.callback_=void 0,this.target_=void 0,this.directObserver_=void 0,this.value_=void 0,this.id_=ue++}function x(e){j._allObserversCount++,he&&ce.push(e)}function C(e){j._allObserversCount--}function E(e){j.call(this),this.value_=e,this.oldObject_=void 0}function k(e){if(!Array.isArray(e))throw Error("Provided object is not an Array");E.call(this,e)}function P(e,t){j.call(this),this.object_=e,this.path_=l(t),this.directObserver_=void 0}function A(e){j.call(this),this.reportChangesOnOpen_=e,this.value_=[],this.directObserver_=void 0,this.observed_=[]}function F(e){return e}function T(e,t,r,n){this.callback_=void 0,this.target_=void 0,this.value_=void 0,this.observable_=e,this.getValueFn_=t||F,this.setValueFn_=r||F,this.dontPassThroughSet_=n}function D(e,t,r){for(var n={},i={},o=0;o<t.length;o++){var s=t[o];fe[s.type]?(s.name in r||(r[s.name]=s.oldValue),"update"!=s.type&&("add"!=s.type?s.name in n?(delete n[s.name],delete r[s.name]):i[s.name]=!0:s.name in i?delete i[s.name]:n[s.name]=!0)):(console.error("Unknown changeRecord type: "+s.type),console.error(s))}for(var a in n)n[a]=e[a];for(var a in i)i[a]=void 0;var u={};for(var a in r)if(!(a in n||a in i)){var c=e[a];r[a]!==c&&(u[a]=c)}return{added:n,removed:i,changed:u}}function S(e,t,r){return{index:e,removed:t,addedCount:r}}function R(){}function V(e,t,r,n,i,o){return ye.calcSplices(e,t,r,n,i,o)}function I(e,t,r,n){return r>t||e>n?-1:t==r||n==e?0:r>e?n>t?t-r:n-r:t>n?n-e:t-e}function B(e,t,r,n){for(var i=S(t,r,n),o=!1,s=0,a=0;a<e.length;a++){var u=e[a];if(u.index+=s,!o){var c=I(i.index,i.index+i.removed.length,u.index,u.index+u.addedCount);if(c>=0){e.splice(a,1),a--,s-=u.addedCount-u.removed.length,i.addedCount+=u.addedCount-c;var h=i.removed.length+u.removed.length-c;if(i.addedCount||h){var r=u.removed;if(i.index<u.index){var d=i.removed.slice(0,u.index-i.index);Array.prototype.push.apply(d,r),r=d}if(i.index+i.removed.length>u.index+u.addedCount){var l=i.removed.slice(u.index+u.addedCount-i.index);Array.prototype.push.apply(r,l)}i.removed=r,u.index<i.index&&(i.index=u.index)}else o=!0}else if(i.index<u.index){o=!0,e.splice(a,0,i),a++;var f=i.addedCount-i.removed.length;u.index+=f,s+=f}}}o||e.push(i)}function q(e,t){for(var r=[],o=0;o<t.length;o++){var s=t[o];switch(s.type){case"splice":B(r,s.index,s.removed.slice(),s.addedCount);break;case"add":case"update":case"delete":if(!n(s.name))continue;var a=i(s.name);if(0>a)continue;B(r,a,[s.oldValue],1);break;default:console.error("Unexpected record type: "+JSON.stringify(s))}}return r}function U(e,t){var r=[];return q(e,t).forEach(function(t){return 1==t.addedCount&&1==t.removed.length?void(t.removed[0]!==e[t.index]&&r.push(t)):void(r=r.concat(V(e,t.index,t.index+t.addedCount,t.removed,0,t.removed.length)))}),r}var N=e.testingExposeCycleCount,H=t(),L=r(),Q=e.Number.isNaN||function(t){return"number"==typeof t&&e.isNaN(t)},G="__proto__"in{}?function(e){return e}:function(e){var t=e.__proto__;if(!t)return e;var r=Object.create(t);return Object.getOwnPropertyNames(e).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}),r},M="[$_a-zA-Z]",Z="[$_a-zA-Z0-9]",$=new RegExp("^"+M+"+"+Z+"*$"),z={beforePath:{ws:["beforePath"],ident:["inIdent","append"],"[":["beforeElement"],eof:["afterPath"]},inPath:{ws:["inPath"],".":["beforeIdent"],"[":["beforeElement"],eof:["afterPath"]},beforeIdent:{ws:["beforeIdent"],ident:["inIdent","append"]},inIdent:{ident:["inIdent","append"],0:["inIdent","append"],number:["inIdent","append"],ws:["inPath","push"],".":["beforeIdent","push"],"[":["beforeElement","push"],eof:["afterPath","push"]},beforeElement:{ws:["beforeElement"],0:["afterZero","append"],number:["inIndex","append"],"'":["inSingleQuote","append",""],'"':["inDoubleQuote","append",""]},afterZero:{ws:["afterElement","push"],"]":["inPath","push"]},inIndex:{0:["inIndex","append"],number:["inIndex","append"],ws:["afterElement"],"]":["inPath","push"]},inSingleQuote:{"'":["afterElement"],eof:["error"],"else":["inSingleQuote","append"]},inDoubleQuote:{'"':["afterElement"],eof:["error"],"else":["inDoubleQuote","append"]},afterElement:{ws:["afterElement"],"]":["inPath","push"]}},J={},X={};d.get=l,d.prototype=G({__proto__:[],valid:!0,toString:function(){for(var e="",t=0;t<this.length;t++){var r=this[t];e+=h(r)?t?"."+r:r:f(r)}return e},getValueFrom:function(e,t){for(var r=0;r<this.length;r++){if(null==e)return;e=e[this[r]]}return e},iterateObjects:function(e,t){for(var r=0;r<this.length;r++){if(r&&(e=e[this[r-1]]),!o(e))return;t(e,this[r])}},compiledGetValueFromFn:function(){var e="",t="obj";e+="if (obj != null";for(var r,n=0;n<this.length-1;n++)r=this[n],t+=h(r)?"."+r:f(r),e+=" &&\n     "+t+" != null";e+=")\n";var r=this[n];return t+=h(r)?"."+r:f(r),e+="  return "+t+";\nelse\n  return undefined;",new Function("obj",e)},setValueFrom:function(e,t){if(!this.length)return!1;for(var r=0;r<this.length-1;r++){if(!o(e))return!1;e=e[this[r]]}return o(e)?(e[this[r]]=t,!0):!1}});var K=new d("",J);K.valid=!1,K.getValueFrom=K.setValueFrom=function(){};var W,Y=1e3,ee=[],te=H?function(){return function(e){return Promise.resolve().then(e)}}():function(){return function(e){ee.push(e)}}(),re=[],ne=[],ie=0,oe=1,se=2,ae=3,ue=1;j.prototype={open:function(e,t){if(this.state_!=ie)throw Error("Observer has already been opened.");return x(this),this.callback_=e,this.target_=t,this.connect_(),this.state_=oe,this.value_},close:function(){this.state_==oe&&(C(this),this.disconnect_(),this.value_=void 0,this.callback_=void 0,this.target_=void 0,this.state_=se)},deliver:function(){this.state_==oe&&v(this)},report_:function(e){try{this.callback_.apply(this.target_,e)}catch(t){j._errorThrownDuringCallback=!0,console.error("Exception caught during observer callback: "+(t.stack||t))}},discardChanges:function(){return this.check_(void 0,!0),this.value_}};var ce,he=!H;j._allObserversCount=0,he&&(ce=[]);var de=!1;e.Platform=e.Platform||{},e.Platform.performMicrotaskCheckpoint=function(){if(!de&&he){de=!0;var t,r,n=0;do{n++,r=ce,ce=[],t=!1;for(var i=0;i<r.length;i++){var o=r[i];o.state_==oe&&(o.check_()&&(t=!0),ce.push(o))}y()&&(t=!0)}while(Y>n&&t);N&&(e.dirtyCheckCycleCount=n),de=!1}},he&&(e.Platform.clearObservers=function(){ce=[]}),E.prototype=G({__proto__:j.prototype,arrayObserve:!1,connect_:function(e,t){H?this.directObserver_=m(this,this.value_,this.arrayObserve):this.oldObject_=this.copyObject(this.value_)},copyObject:function(e){var t=Array.isArray(e)?[]:{};for(var r in e)t[r]=e[r];return Array.isArray(e)&&(t.length=e.length),t},check_:function(e,t){var r,n;if(H){if(!e)return!1;n={},r=D(this.value_,e,n)}else n=this.oldObject_,r=_(this.value_,this.oldObject_);return b(r)?!1:(H||(this.oldObject_=this.copyObject(this.value_)),this.report_([r.added||{},r.removed||{},r.changed||{},function(e){return n[e]}]),!0)},disconnect_:function(){H?(this.directObserver_.close(),this.directObserver_=void 0):this.oldObject_=void 0},deliver:function(){this.state_==oe&&(H?this.directObserver_.deliver(!1):v(this))},discardChanges:function(){return this.directObserver_?this.directObserver_.deliver(!0):this.oldObject_=this.copyObject(this.value_),this.value_}}),k.prototype=G({__proto__:E.prototype,arrayObserve:!0,copyObject:function(e){return e.slice()},check_:function(e){var t;if(H){if(!e)return!1;t=U(this.value_,e)}else t=V(this.value_,0,this.value_.length,this.oldObject_,0,this.oldObject_.length);return t&&t.length?(H||(this.oldObject_=this.copyObject(this.value_)),this.report_([t]),!0):!1}}),k.applySplices=function(e,t,r){r.forEach(function(r){for(var n=[r.index,r.removed.length],i=r.index;i<r.index+r.addedCount;)n.push(t[i]),i++;Array.prototype.splice.apply(e,n)})},P.prototype=G({__proto__:j.prototype,get path(){return this.path_},connect_:function(){H&&(this.directObserver_=w(this,this.object_)),this.check_(void 0,!0)},disconnect_:function(){this.value_=void 0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},iterateObjects_:function(e){this.path_.iterateObjects(this.object_,e)},check_:function(e,t){var r=this.value_;return this.value_=this.path_.getValueFrom(this.object_),t||s(this.value_,r)?!1:(this.report_([this.value_,r,this]),!0)},setValue:function(e){this.path_&&this.path_.setValueFrom(this.object_,e)}});var le={};A.prototype=G({__proto__:j.prototype,connect_:function(){if(H){for(var e,t=!1,r=0;r<this.observed_.length;r+=2)if(e=this.observed_[r],e!==le){t=!0;break}t&&(this.directObserver_=w(this,e))}this.check_(void 0,!this.reportChangesOnOpen_)},disconnect_:function(){for(var e=0;e<this.observed_.length;e+=2)this.observed_[e]===le&&this.observed_[e+1].close();this.observed_.length=0,this.value_.length=0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},addPath:function(e,t){if(this.state_!=ie&&this.state_!=ae)throw Error("Cannot add paths once started.");var t=l(t);if(this.observed_.push(e,t),this.reportChangesOnOpen_){var r=this.observed_.length/2-1;this.value_[r]=t.getValueFrom(e)}},addObserver:function(e){if(this.state_!=ie&&this.state_!=ae)throw Error("Cannot add observers once started.");if(this.observed_.push(le,e),this.reportChangesOnOpen_){var t=this.observed_.length/2-1;this.value_[t]=e.open(this.deliver,this)}},startReset:function(){if(this.state_!=oe)throw Error("Can only reset while open");this.state_=ae,this.disconnect_()},finishReset:function(){if(this.state_!=ae)throw Error("Can only finishReset after startReset");return this.state_=oe,this.connect_(),this.value_},iterateObjects_:function(e){for(var t,r=0;r<this.observed_.length;r+=2)t=this.observed_[r],t!==le&&this.observed_[r+1].iterateObjects(t,e)},check_:function(e,t){for(var r,n=0;n<this.observed_.length;n+=2){var i,o=this.observed_[n],a=this.observed_[n+1];if(o===le){var u=a;i=this.state_===ie?u.open(this.deliver,this):u.discardChanges()}else i=a.getValueFrom(o);t?this.value_[n/2]=i:s(i,this.value_[n/2])||(r=r||[],r[n/2]=this.value_[n/2],this.value_[n/2]=i)}return r?(this.report_([this.value_,r,this.observed_]),!0):!1}}),T.prototype={open:function(e,t){return this.callback_=e,this.target_=t,this.value_=this.getValueFn_(this.observable_.open(this.observedCallback_,this)),this.value_},observedCallback_:function(e){if(e=this.getValueFn_(e),!s(e,this.value_)){var t=this.value_;this.value_=e,this.callback_.call(this.target_,this.value_,t)}},discardChanges:function(){return this.value_=this.getValueFn_(this.observable_.discardChanges()),this.value_},deliver:function(){return this.observable_.deliver()},setValue:function(e){return e=this.setValueFn_(e),!this.dontPassThroughSet_&&this.observable_.setValue?this.observable_.setValue(e):void 0},close:function(){this.observable_&&this.observable_.close(),this.callback_=void 0,this.target_=void 0,this.observable_=void 0,this.value_=void 0,this.getValueFn_=void 0,this.setValueFn_=void 0}};var fe={add:!0,update:!0,"delete":!0},ve=0,pe=1,be=2,_e=3;R.prototype={calcEditDistances:function(e,t,r,n,i,o){for(var s=o-i+1,a=r-t+1,u=new Array(s),c=0;s>c;c++)u[c]=new Array(a),u[c][0]=c;for(var h=0;a>h;h++)u[0][h]=h;for(var c=1;s>c;c++)for(var h=1;a>h;h++)if(this.equals(e[t+h-1],n[i+c-1]))u[c][h]=u[c-1][h-1];else{var d=u[c-1][h]+1,l=u[c][h-1]+1;u[c][h]=l>d?d:l}return u},spliceOperationsFromEditDistances:function(e){for(var t=e.length-1,r=e[0].length-1,n=e[t][r],i=[];t>0||r>0;)if(0!=t)if(0!=r){var o,s=e[t-1][r-1],a=e[t-1][r],u=e[t][r-1];o=u>a?s>a?a:s:s>u?u:s,o==s?(s==n?i.push(ve):(i.push(pe),n=s),t--,r--):o==a?(i.push(_e),t--,n=a):(i.push(be),r--,n=u)}else i.push(_e),t--;else i.push(be),r--;return i.reverse(),i},calcSplices:function(e,t,r,n,i,o){var s=0,a=0,u=Math.min(r-t,o-i);if(0==t&&0==i&&(s=this.sharedPrefix(e,n,u)),r==e.length&&o==n.length&&(a=this.sharedSuffix(e,n,u-s)),t+=s,i+=s,r-=a,o-=a,r-t==0&&o-i==0)return[];if(t==r){for(var c=S(t,[],0);o>i;)c.removed.push(n[i++]);return[c]}if(i==o)return[S(t,[],r-t)];for(var h=this.spliceOperationsFromEditDistances(this.calcEditDistances(e,t,r,n,i,o)),c=void 0,d=[],l=t,f=i,v=0;v<h.length;v++)switch(h[v]){case ve:c&&(d.push(c),c=void 0),l++,f++;break;case pe:c||(c=S(l,[],0)),c.addedCount++,l++,c.removed.push(n[f]),f++;break;case be:c||(c=S(l,[],0)),c.addedCount++,l++;break;case _e:c||(c=S(l,[],0)),c.removed.push(n[f]),f++}return c&&d.push(c),d},sharedPrefix:function(e,t,r){for(var n=0;r>n;n++)if(!this.equals(e[n],t[n]))return n;return r},sharedSuffix:function(e,t,r){for(var n=e.length,i=t.length,o=0;r>o&&this.equals(e[--n],t[--i]);)o++;return o},calculateSplices:function(e,t){return this.calcSplices(e,0,e.length,t,0,t.length)},equals:function(e,t){return e===t}};var ye=new R,ge=e;"undefined"==typeof exports||exports.nodeType||("undefined"!=typeof module&&module.exports&&(exports=module.exports),ge=exports),ge.Observer=j,ge.Observer.runEOM_=te,ge.Observer.observerSentinel_=le,ge.Observer.hasObjectObserve=H,ge.ArrayObserver=k,ge.ArrayObserver.calculateSplices=function(e,t){return ye.calculateSplices(e,t)},ge.ArraySplice=R,ge.ObjectObserver=E,ge.PathObserver=P,ge.CompoundObserver=A,ge.Path=d,ge.ObserverTransform=T}("undefined"!=typeof global&&global&&"undefined"!=typeof module&&module?global:this||window),function(){"use strict";var e="http://api.wap.com:3000/api/v1",t=document.getElementsByTagName("script")[0],r=t.getAttribute("id"),n="wa_user_id",i=function(e){var t=!1;t&&console.log(e)},o=function(t,r,n,o,s){i(t+" ->"+r+" "+n+" "+o+" "+s),fetch(e+"/website/:website_id/events".replace(":website_id",t),{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({category:r,action:n,opt_label:o,opt_value:s})}).then(function(e){return e.json()}).then(function(e){e.msg&&console.error(e.msg)})},s=function(e){if(!getCookie(n)){var t=Date.now()+"-"+e.v4(),i=new Date;i.setDate(i.getDate()+1),setCookie(n,t,i),o(r,t,"UniqueView",window.location.href,"")}},a=function(){o(r,getCookie(n),"PageView",window.location.href,"")};s(uuid),a();var u=new ArrayObserver(_wa);u.open(function(e){console.log(e),e.forEach(function(e){if(e.addedCount>0){var t=_wa[e.index];o(r,t.category,t.action,t.opt_label,t.opt_value)}})})}();